

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cft_code package &mdash; Palo Alto Networks AWS Autoscale 2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Palo Alto Networks AWS Autoscale 2.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Palo Alto Networks AWS Autoscale
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Palo Alto Networks Lambda Functions for ELB AutoScale Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="arch.html">Architecture of the Palo Alto CFT Lambda Functions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Palo Alto Networks AWS Autoscale</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>cft_code package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cft_code.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cft-code-package">
<h1>cft_code package<a class="headerlink" href="#cft-code-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cft_code.dnslib.html">cft_code.dnslib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.bimap">cft_code.dnslib.bimap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.bit">cft_code.dnslib.bit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.buffer">cft_code.dnslib.buffer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.client">cft_code.dnslib.client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.digparser">cft_code.dnslib.digparser module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#digparser">digparser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.dns">cft_code.dnslib.dns module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.fixedresolver">cft_code.dnslib.fixedresolver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.intercept">cft_code.dnslib.intercept module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.label">cft_code.dnslib.label module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.lex">cft_code.dnslib.lex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.pan_client">cft_code.dnslib.pan_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.proxy">cft_code.dnslib.proxy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.ranges">cft_code.dnslib.ranges module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.server">cft_code.dnslib.server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.shellresolver">cft_code.dnslib.shellresolver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.test_decode">cft_code.dnslib.test_decode module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib.zoneresolver">cft_code.dnslib.zoneresolver module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.dnslib.html#module-cft_code.dnslib">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#dnslib">dnslib</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#changelog">Changelog:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#license">License:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#author">Author:</a></li>
<li class="toctree-l3"><a class="reference internal" href="cft_code.dnslib.html#master-repository-issues">Master Repository/Issues:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cft_code.lib.html">cft_code.lib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cft_code.lib.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cft_code.lib.pan.html">cft_code.lib.pan package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cft_code.lib.pan.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cft_code.lib.pan.html#module-cft_code.lib.pan.asglib">cft_code.lib.pan.asglib module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cft_code.lib.pan.html#module-cft_code.lib.pan">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cft_code.lib.html#module-cft_code.lib">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cft_code.dynamodb_evt">
<span id="cft-code-dynamodb-evt-module"></span><h2>cft_code.dynamodb_evt module<a class="headerlink" href="#module-cft_code.dynamodb_evt" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="cft_code.dynamodb_evt.lambda_handler">
<code class="descclassname">cft_code.dynamodb_evt.</code><code class="descname">lambda_handler</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.dynamodb_evt.lambda_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-cft_code.fw_init">
<span id="cft-code-fw-init-module"></span><h2>cft_code.fw_init module<a class="headerlink" href="#module-cft_code.fw_init" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>/<strong>*************************************************************************</strong></dt>
<dd><ul class="first simple">
<li>Copyright (c) 2016, Palo Alto Networks. All rights reserved.              *</li>
<li><ul class="first">
<li></li>
</ul>
</li>
<li>This Software is the property of Palo Alto Networks. The Software and all *</li>
<li>accompanying documentation are copyrighted.                               *</li>
</ul>
<p class="last"><strong>*************************************************************************</strong>/</p>
</dd>
</dl>
<p>Copyright 2016 Palo Alto Networks</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<dl class="function">
<dt id="cft_code.fw_init.abandon">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">abandon</code><span class="sig-paren">(</span><em>context</em>, <em>asg_message</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.abandon" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to send a response to the
auto scale life cycle action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> – </li>
<li><strong>asg_message</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.associateAddress">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">associateAddress</code><span class="sig-paren">(</span><em>AllocId</em>, <em>nifId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.associateAddress" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>AllocId</strong> – </li>
<li><strong>nifId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.attachEni">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">attachEni</code><span class="sig-paren">(</span><em>ec2Id</em>, <em>eniId</em>, <em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.attachEni" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to attach and ENI to an instance
:param ec2Id:
:param eniId:
:param index:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.count_eni">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">count_eni</code><span class="sig-paren">(</span><em>msg</em>, <em>instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.count_eni" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>msg</strong> – </li>
<li><strong>instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.createEni">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">createEni</code><span class="sig-paren">(</span><em>subnetId</em>, <em>securityGroups</em>, <em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.createEni" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create and Elastic Network Interface
:param subnetId:
:param securityGroups:
:param index:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.done">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">done</code><span class="sig-paren">(</span><em>success</em>, <em>context</em>, <em>asg_message</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to send a successful response to an
ASG lifecycle action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>success</strong> – </li>
<li><strong>context</strong> – </li>
<li><strong>asg_message</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.getUnassociatedAddress">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">getUnassociatedAddress</code><span class="sig-paren">(</span><em>eip_list</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.getUnassociatedAddress" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>eip_list</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_eip">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_eip</code><span class="sig-paren">(</span><em>mgmt_eniId</em>, <em>mgmt_instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_eip" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mgmt_eniId</strong> – </li>
<li><strong>mgmt_instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_event_rule_name">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_event_rule_name</code><span class="sig-paren">(</span><em>stackname</em>, <em>instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_event_rule_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_lambda_cloud_watch_func_name">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_lambda_cloud_watch_func_name</code><span class="sig-paren">(</span><em>stackname</em>, <em>instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_lambda_cloud_watch_func_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_stack_params">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_stack_params</code><span class="sig-paren">(</span><em>queue_url</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_stack_params" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>queue_url</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_statement_id">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_statement_id</code><span class="sig-paren">(</span><em>stackname</em>, <em>instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_statement_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.get_target_id_name">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">get_target_id_name</code><span class="sig-paren">(</span><em>stackname</em>, <em>instanceId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.get_target_id_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>instanceId</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.handle_instance_termination">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">handle_instance_termination</code><span class="sig-paren">(</span><em>fwApiKey</em>, <em>instanceId</em>, <em>delicenseKey</em>, <em>fwMgmtIp</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.handle_instance_termination" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the sequence to deactivate the Firewall in the case of BYOL.
:param fwApiKey:
:param instanceId:
:param delicenseKey:
:param fwMgmtIp:
:return bool:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.lambda_handler">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">lambda_handler</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.lambda_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>The entry point when this lambda function gets
invoked.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The primary objective of this lambda funciton
is to handle life-cycle hooks and to create / delete
elastic network interfaces to assign / disassociate to / from
instances.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.random_string">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">random_string</code><span class="sig-paren">(</span><em>string_length=10</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.random_string" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string_length</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.removeEni">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">removeEni</code><span class="sig-paren">(</span><em>eniId1</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.removeEni" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to disassociate an ENI from an instance.
:param eniId1:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.remove_eni">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">remove_eni</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.remove_eni" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.remove_eni_in_subnet">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">remove_eni_in_subnet</code><span class="sig-paren">(</span><em>subnet</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.remove_eni_in_subnet" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>subnet</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.fw_init.waitEniReady">
<code class="descclassname">cft_code.fw_init.</code><code class="descname">waitEniReady</code><span class="sig-paren">(</span><em>eniId</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.fw_init.waitEniReady" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to check if an ENI is ready
:param eniId:
:return:</p>
</dd></dl>

</div>
<div class="section" id="module-cft_code.init">
<span id="cft-code-init-module"></span><h2>cft_code.init module<a class="headerlink" href="#module-cft_code.init" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>/<strong>*************************************************************************</strong></dt>
<dd><ul class="first simple">
<li>Copyright (c) 2016, Palo Alto Networks. All rights reserved.              *</li>
<li><ul class="first">
<li></li>
</ul>
</li>
<li>This Software is the property of Palo Alto Networks. The Software and all *</li>
<li>accompanying documentation are copyrighted.                               *</li>
</ul>
<p class="last"><strong>*************************************************************************</strong>/</p>
</dd>
</dl>
<p>Copyright 2016 Palo Alto Networks</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<dl class="function">
<dt id="cft_code.init.UpdateActiveSessions">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateActiveSessions</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateActiveSessions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateDataPlaneBufferUtilization">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateDataPlaneBufferUtilization</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateDataPlaneBufferUtilization" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateDataPlaneCPUUtilization">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateDataPlaneCPUUtilization</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateDataPlaneCPUUtilization" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateGPActiveTunnels">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateGPActiveTunnels</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateGPActiveTunnels" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateGPGatewayUtilization">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateGPGatewayUtilization</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateGPGatewayUtilization" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateSessionSslProxyUtilization">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateSessionSslProxyUtilization</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateSessionSslProxyUtilization" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.UpdateSessionUtilization">
<code class="descclassname">cft_code.init.</code><code class="descname">UpdateSessionUtilization</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.UpdateSessionUtilization" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>arn_scalein</strong> – </li>
<li><strong>arn_scaleout</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.common_alarm_func_update">
<code class="descclassname">cft_code.init.</code><code class="descname">common_alarm_func_update</code><span class="sig-paren">(</span><em>asg_name</em>, <em>metricname</em>, <em>namespace</em>, <em>arn_scalein</em>, <em>arn_scaleout</em>, <em>alarmname</em>, <em>desc</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.common_alarm_func_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create alarms to be monitored on instances in an ASG
:param asg_name:
:param metricname:
:param namespace:
:param arn_scalein:
:param arn_scaleout:
:param alarmname:
:param desc:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.create_resources">
<code class="descclassname">cft_code.init.</code><code class="descname">create_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.create_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called from the lambda handler entry point.
The following actions are performed:</p>
<blockquote>
<div><ul class="simple">
<li>validate the AMI-ID</li>
<li>deploys the <code class="docutils literal"><span class="pre">`sched_evt1`</span></code> lambda function.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.delete_resources">
<code class="descclassname">cft_code.init.</code><code class="descname">delete_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.delete_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to handle the delete of resources when the
CFT stack is deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.get_event_rule_name">
<code class="descclassname">cft_code.init.</code><code class="descname">get_event_rule_name</code><span class="sig-paren">(</span><em>stackname</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.get_event_rule_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create a unique name for the
event rules.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The event name is constructed by appending
a fixed string to the stack name.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stackname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.get_sha">
<code class="descclassname">cft_code.init.</code><code class="descname">get_sha</code><span class="sig-paren">(</span><em>bucket</em>, <em>folder</em>, <em>lambda_sha</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.get_sha" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute the SHA-256 encoding for the
contents of the given file
:param bucket:
:param folder:
:param lambda_sha:
:return:</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.get_target_id_name">
<code class="descclassname">cft_code.init.</code><code class="descname">get_target_id_name</code><span class="sig-paren">(</span><em>stackname</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.get_target_id_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stackname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.lambda_handler">
<code class="descclassname">cft_code.init.</code><code class="descname">lambda_handler</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.lambda_handler" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This function is the entry point for the <code class="docutils literal"><span class="pre">`init`</span></code> Lambda function.
This function performs the following actions:</p>
<ul class="last simple">
<li><dl class="first docutils">
<dt>invokes <code class="docutils literal"><span class="pre">`create</span> <span class="pre">|</span> <span class="pre">delete</span> <span class="pre">|</span> <span class="pre">update_resources()`</span></code> based on the action</dt>
<dd>required.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>creates the <code class="docutils literal"><span class="pre">`sched_evt1`</span></code> lambda function</dt>
<dd>and configures the same.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>validates that the PAN FW AMI-ID specified as input</dt>
<dd>is valid and supported.</dd>
</dl>
</li>
</ul>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>dict</em>) – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> (<em>LambdaContext</em>) – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.no_asgs">
<code class="descclassname">cft_code.init.</code><code class="descname">no_asgs</code><span class="sig-paren">(</span><em>elbname</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.no_asgs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>elbname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.random_string">
<code class="descclassname">cft_code.init.</code><code class="descname">random_string</code><span class="sig-paren">(</span><em>string_length=10</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.random_string" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string_length</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.read_s3_object">
<code class="descclassname">cft_code.init.</code><code class="descname">read_s3_object</code><span class="sig-paren">(</span><em>bucket</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.read_s3_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to read data from and S3 bucket.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method is used to read bootstrap
information, in order to license and
configure the firewall.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket</strong> – </li>
<li><strong>key</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.remove_sched_func">
<code class="descclassname">cft_code.init.</code><code class="descname">remove_sched_func</code><span class="sig-paren">(</span><em>stackname</em>, <em>elbtg</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.remove_sched_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the sched_evt function, in order to
cleanup when the CFT stack is deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stackname</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.send_response">
<code class="descclassname">cft_code.init.</code><code class="descname">send_response</code><span class="sig-paren">(</span><em>event</em>, <em>context</em>, <em>responseStatus</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.send_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to send a response back to the CFT process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> – </li>
<li><strong>context</strong> – </li>
<li><strong>responseStatus</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.update_alarm">
<code class="descclassname">cft_code.init.</code><code class="descname">update_alarm</code><span class="sig-paren">(</span><em>stackname</em>, <em>asg_name</em>, <em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.update_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to update alarm parameters if they have been changed
when the CFT stack was updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stackname</strong> – </li>
<li><strong>asg_name</strong> – </li>
<li><strong>event</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.update_resources">
<code class="descclassname">cft_code.init.</code><code class="descname">update_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.update_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to handle any updates to the CFT templates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> – CFT input parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.init.validate_ami_id">
<code class="descclassname">cft_code.init.</code><code class="descname">validate_ami_id</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.init.validate_ami_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that the AMI-ID provided is a valid
PAN FW AMI.
:param event: The CFT event params
:return: bool</p>
</dd></dl>

</div>
<div class="section" id="module-cft_code.sched_evt1">
<span id="cft-code-sched-evt1-module"></span><h2>cft_code.sched_evt1 module<a class="headerlink" href="#module-cft_code.sched_evt1" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>/<strong>*************************************************************************</strong></dt>
<dd><ul class="first simple">
<li>Copyright (c) 2016, Palo Alto Networks. All rights reserved.              *</li>
<li><ul class="first">
<li></li>
</ul>
</li>
<li>This Software is the property of Palo Alto Networks. The Software and all *</li>
<li>accompanying documentation are copyrighted.                               *</li>
</ul>
<p class="last"><strong>*************************************************************************</strong>/</p>
</dd>
</dl>
<p>Copyright 2016 Palo Alto Networks</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<dl class="function">
<dt id="cft_code.sched_evt1.AddActiveSessions">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddActiveSessions</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddActiveSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the ActiveSessions Alarm. This alarm
will trigger when the Active Sessions exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddDataPlaneBufferUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddDataPlaneBufferUtilization</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddDataPlaneBufferUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the DataPlaneBufferUtilization Alarm. This alarm
will trigger when the DataPlaneBufferUtilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddDataPlaneCPUUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddDataPlaneCPUUtilization</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddDataPlaneCPUUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the DataPlaneCPUUtilization Alarm. This alarm
will trigger when the Data Plane CPU Utilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddGPActiveTunnels">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddGPActiveTunnels</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddGPActiveTunnels" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the GPActiveTunnels Alarm. This alarm
will trigger when the GP Active Tunnels  exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddGPGatewayUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddGPGatewayUtilization</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddGPGatewayUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the GPGatewayUtilization Alarm. This alarm
will trigger when the GPGatewayUtilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddSessionSslProxyUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddSessionSslProxyUtilization</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddSessionSslProxyUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the SessionSslProxyUtilization Alarm. This alarm
will trigger when the SessionSslProxyUtilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.AddSessionUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">AddSessionUtilization</code><span class="sig-paren">(</span><em>asg_name</em>, <em>arn_scalein</em>, <em>arn_scaleout</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.AddSessionUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create the SessionUtilization Alarm. This alarm
will trigger when the SessionUtilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelActiveSessions">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelActiveSessions</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelActiveSessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the Active Sessions alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelDataPlaneBufferUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelDataPlaneBufferUtilization</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelDataPlaneBufferUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the DatePlaneBufferUtilization  alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelDataPlaneCPUUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelDataPlaneCPUUtilization</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelDataPlaneCPUUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the DataPlaneCPUUtilization Alarm. This alarm
will trigger when the Data Plane CPU Utilization exceeds the
specified threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelGPActiveTunnels">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelGPActiveTunnels</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelGPActiveTunnels" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the GP GPActiveTunnels alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelGPGatewayUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelGPGatewayUtilization</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelGPGatewayUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the GP Session Utilization alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelSessionSslProxyUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelSessionSslProxyUtilization</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelSessionSslProxyUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the SessionSslProxyUtilization alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.DelSessionUtilization">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">DelSessionUtilization</code><span class="sig-paren">(</span><em>asg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.DelSessionUtilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to delete the Session Utilization alarm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asg_name</strong> – Name of the ASG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.check_and_send_message_to_queue">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">check_and_send_message_to_queue</code><span class="sig-paren">(</span><em>queue_url</em>, <em>str_message</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.check_and_send_message_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to retrieve the IP addresses that are configured on an
ILB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> – </li>
<li><strong>content</strong> – </li>
<li><strong>response_ilb</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.common_alarm_func_add">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">common_alarm_func_add</code><span class="sig-paren">(</span><em>asg_name</em>, <em>metricname</em>, <em>namespace</em>, <em>arn_scalein</em>, <em>arn_scaleout</em>, <em>alarmname</em>, <em>desc</em>, <em>Unit</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.common_alarm_func_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that supports a common interface to add cloud watch alarms along with the associated threshold
metrics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG that this alarm is associated with.</li>
<li><strong>metricname</strong> – Name of the metric.</li>
<li><strong>namespace</strong> – Name of the namespace.</li>
<li><strong>arn_scalein</strong> – ARN of the scale-in metric.</li>
<li><strong>arn_scaleout</strong> – ARN of the scale-out metric.</li>
<li><strong>alarmname</strong> – Name of the alarm that will be raised.</li>
<li><strong>desc</strong> – Description of the alarm</li>
<li><strong>Unit</strong> – The unit to be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.common_alarm_func_del">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">common_alarm_func_del</code><span class="sig-paren">(</span><em>alarmname</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.common_alarm_func_del" title="Permalink to this definition">¶</a></dt>
<dd><p>Common interface to delete alarms
:param alarmname: Name of the alarm to delete.
:return: None</p>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.create_asg">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">create_asg</code><span class="sig-paren">(</span><em>AvailabilityZone</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.create_asg" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to create an Auto Scale Group with the configuration
provided.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This method performs the following critical functions</p>
<ul class="last simple">
<li>reads in configuration from an S3 bucket</li>
<li>creates a launch configuration</li>
<li>creates an ASG</li>
<li>associates the policies with the ASG</li>
<li>registers to ASG life-cycle hook events and provides handlers for these events.</li>
</ul>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>AvailabilityZone</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.create_asg_life_cycle">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">create_asg_life_cycle</code><span class="sig-paren">(</span><em>asg_name</em>, <em>AvailabilityZone</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.create_asg_life_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to register ASG life cycle hook actions.</p>
<p>When and ASG lifecycle hook is triggered the targets as registered
by this method get triggered with the appropriate data fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>asg_name</strong> – Name of the ASG.</li>
<li><strong>AvailabilityZone</strong> – Name of the AZ</li>
<li><strong>ip_address</strong> – IP address of the instance</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.firewall_asg_update">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">firewall_asg_update</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.firewall_asg_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to monitor the asg in the supported AZs.</p>
<dl class="docutils">
<dt>The actions performed by this function are:</dt>
<dd><ul class="first last simple">
<li>if asg doesn’t exist, create asg.</li>
<li>Before create asg, it will remove the launch config if exists.
Then create new launch config.</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>dict</em>) – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> (<em>LambdaContext</em>) – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.firewall_init_config">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">firewall_init_config</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.firewall_init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to monitor the firewall of INIT state in firewall table and set state
to COMMIT if firewall auto commit completes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>dict</em>) – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> (<em>LambdaContext</em>) – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.getAz">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">getAz</code><span class="sig-paren">(</span><em>ip</em>, <em>response_ilb</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.getAz" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to return the availability zone that a
configured IP address belongs to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ip</strong> – </li>
<li><strong>response_ilb</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.lambda_handler">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">lambda_handler</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.lambda_handler" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is the entry point for the <code class="docutils literal"><span class="pre">`sched_event1`</span></code> Lambda function.</p>
</div>
<p>This function performs the following actions:
firewall_asg_update(event, context)
firewall_init_config(event, context)
network_load_balancer_update(event, context)</p>
<blockquote>
<div><div class="line-block">
<div class="line">invokes <code class="docutils literal"><span class="pre">`check_and_send_message_to_queue()`</span></code></div>
<div class="line-block">
<div class="line">desc: Checks the messages on the queue to ensure its up to date</div>
<div class="line-block">
<div class="line">and for any changes as the case maybe.</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line">invokes <code class="docutils literal"><span class="pre">`firewall_asg_update()`</span></code></div>
<div class="line-block">
<div class="line">desc: monitor firewall asg and create asg if not exist</div>
</div>
</div>
<div class="line-block">
<div class="line">invokes <code class="docutils literal"><span class="pre">`firewall_init_config()`</span></code></div>
<div class="line-block">
<div class="line">desc: monitor firewall in INIT state and move it to COMMIT if </div>
<div class="line-block">
<div class="line">firewall auto commit is done</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line">invokes <code class="docutils literal"><span class="pre">`network_load_balancer_update()`</span></code></div>
<div class="line-block">
<div class="line">desc: update firewall nat rules based on info in firewall table</div>
<div class="line-block">
<div class="line">nlb table</div>
</div>
</div>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>dict</em>) – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> (<em>LambdaContext</em>) – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.network_load_balancer_update">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">network_load_balancer_update</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.network_load_balancer_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to monitor NLB sqs and update firewall nat rules</p>
<dl class="docutils">
<dt>The actions performed by this function are:</dt>
<dd><ul class="first last simple">
<li>find all firewalls of COMMIT state in firewall table and apply
nat rules of all NLB IPs in NLB table</li>
<li>read new msg from NLB sqs and update nlb table and firewall rules</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event</strong> (<em>dict</em>) – Encodes all the input variables to the lambda function, when
the function is invoked.
Essentially AWS Lambda uses this parameter to pass in event
data to the handler function.</li>
<li><strong>context</strong> (<em>LambdaContext</em>) – AWS Lambda uses this parameter to provide runtime information to your handler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cft_code.sched_evt1.random_string">
<code class="descclassname">cft_code.sched_evt1.</code><code class="descname">random_string</code><span class="sig-paren">(</span><em>string_length=10</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sched_evt1.random_string" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string_length</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-cft_code.sha">
<span id="cft-code-sha-module"></span><h2>cft_code.sha module<a class="headerlink" href="#module-cft_code.sha" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>/<strong>*************************************************************************</strong></dt>
<dd><ul class="first simple">
<li>Copyright (c) 2016, Palo Alto Networks. All rights reserved.              *</li>
<li><ul class="first">
<li></li>
</ul>
</li>
<li>This Software is the property of Palo Alto Networks. The Software and all *</li>
<li>accompanying documentation are copyrighted.                               *</li>
</ul>
<p class="last"><strong>*************************************************************************</strong>/</p>
</dd>
</dl>
<p>Copyright 2016 Palo Alto Networks</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<dl class="function">
<dt id="cft_code.sha.code_sha">
<code class="descclassname">cft_code.sha.</code><code class="descname">code_sha</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#cft_code.sha.code_sha" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute the SHA-256 encoding
for the contents of the file specified by the
filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-cft_code">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cft_code" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Palo Alto Networks.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>